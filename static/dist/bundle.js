process.env.HMR_PORT=0;process.env.HMR_HOSTNAME="localhost";parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"J20K":[function(require,module,exports) {
"use strict";var e=n(require("react")),t=n(require("react-dom")),a=require("@material-ui/lab");function n(e){return e&&e.__esModule?e:{default:e}}const l=require("electron-store");l||console.error("NO STORE found");const s=new l({defaults:{pageSize:25}}),o=require("jquery"),r=require("regenerator-runtime");console.log("bundle :D");const c={playlists:["Name","Date","Songs Count"],songs:["Name","Artist","Duration"]};let u="http://localhost:3000";function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}class h extends e.default.Component{constructor(e){super(e),this.state={pageIndex:0,type:e.type,col1:i18n.__(c[e.type][0]),col2:i18n.__(c[e.type][1]),col3:i18n.__(c[e.type][2]),pageData:[],searchBoxValue:e.query}}componentDidMount(){console.log("Result View Mount"),this.search(),this.updateSearchInterval=setInterval(function(){this.query&&this.search()},2500)}componentWillUnmount(){clearInterval(this.updateSearchInterval)}async search(){console.log("Running Search Request");let e=s.get("pageSize"),t=await(await fetch(u+"/api/fetch_"+this.state.type+"?"+d({limit:e,offset:e*this.state.pageIndex,name:this.state.searchBoxValue+"%"}))).json();if("ok"==t.status){let e=t.data;this.setState(function(t,a){return{pageData:e}})}}render(){let t=this.state.pageData.map(function(t){return e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{class:"row"},e.default.createElement("div",{class:"col s4"},t.name),e.default.createElement("div",{class:"col s4"},t.createdAt),e.default.createElement("div",{class:"col s4"},JSON.parse(t.contents).length)))});return e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{class:"row"},e.default.createElement("div",{class:"col s4"},this.state.col1),e.default.createElement("div",{class:"col s4"},this.state.col2),e.default.createElement("div",{class:"col s4"},this.state.col3)),t,"Result View")}}class p extends e.default.Component{constructor(e){super(e),this.state={searchBoxValue:""}}componentDidMount(){}componentWillUnmount(){}fetchSearch(e){console.log(e),console.log("Updating Search");let t=e.target.value;e.target.value&&this.setState(function(e,a){return{searchBoxValue:t}})}render(){return e.default.createElement(e.default.Fragment,null,e.default.createElement("input",{type:"text",id:"searchbox-playlists",class:"searchbox",onChange:this.fetchSearch.bind(this),placeholder:i18n.__("Type to search")}),e.default.createElement(h,{type:"playlists",query:this.state.searchBoxValue}),e.default.createElement("div",null))}}let f={};f.playlists=e.default.createElement(p,null),uiManager?(console.log("Binding to uiManager"),uiManager.on("launchview",function(e){console.log(e),console.log("Rendering "+e.id),console.log(f[e.id]),t.default.render(f[e.id],document.getElementById("contentview"))})):console.log("Error ui manager not found");
},{}]},{},["J20K"], null)
//# sourceMappingURL=/bundle.js.map