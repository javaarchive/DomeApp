{"version":3,"sources":["utils.js","player.js","prefdefaults.json","unbundle.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["formatDuration","seconds","Math","floor","curSecs","out","toString","padStart","localizedFuncs","EventEmitter","require","hasArtist","hasMultipleArtists","i18n","ex","loadAllContentHandlers","settings","get","map","getBestContentHandler","uris","ch","uriList","split","i","length","j","canHandle","contentPlayerCache","PlayerComponent","React","Component","constructor","props","preparedState","itemName","__","position","itemLength","enabled","userDragging","internalPlaylist","playerType","name","controller","state","tick","playNextSong","player","console","log","setState","curTime","getCurrentTime","componentDidMount","registerEvents","tickInterval","setInterval","bind","componentWillUnmount","clearInterval","setNewController","ee","playSong","songData","contentURI","uri","prefferedPlayer","prefferedPlayerKey","SelectedPlayer","id","unload","document","window","emitter","init","load","play","newPlaylist","Array","from","JSON","stringify","nextSong","shift","emit","playerEventsRegistered","oThis","on","updateItem","push","duration","type","params","properties","includes","itemMadeBy","artist","start","end","userChangePos","ev","newVal","setCurrentTime","updateDuration","time","userDragStart","userDragEnd","render","getLocale","styles","playerTitle","playerItemMadeBy","module","exports","is","Store","warn","defaults","prefdefaults","songViewHeaders","$","regeneratorRuntime","documentID","random","musicServer","capitlizeFirst","string","charAt","toUpperCase","slice","serialize","obj","str","p","encodeURIComponent","join","calcColClass","cols","Alert","placeholder","item","key","ResultView","PureComponent","pageIndex","pageData","connectionFailedSnackbarOpen","columns","columnHeaders","colHeaders","unlocalizedName","something","search","componentDidUpdate","prevProps","query","info","componentThis","updateSearchInterval","hideConnectionFailureSnackbar","showConnectionFailureSnackbar","handleConnectionFailureSnackbarClose","event","reason","pageSize","resp","fetch","limit","offset","json","status","data","onRowClickActivator","index","onRowClick","outerThis","colgenerator","elem","renderCols","comps","tableHead","Paper","PlaylistView","searchBoxValue","fetchSearch","searchValue","target","value","onItemClick","e","SongView","createSongNameCol","createSongArtistCol","createDurationCol","classes","colGenerators","handleRowClick","rowData","HomeComponent","stateChange","MainDrawerComponent","triggerView","viewName","setCurView","drawerToggle","MainComponent","useDarkMode","theme","useMemo","palette","serversAnchorEl","setServersAnchorEl","useState","drawerOpen","setDrawerOpen","toggleDrawer","handleMenu","handleClose","curView","serversOpen","Boolean","changeController","views","playlists","songs","homeview","debug","stylesSet","root","flexGrow","title","menuButton","marginRight","spacing","vertical","horizontal","setServer","comp","customTitlebar","Titlebar","backgroundColor","Color","fromHex","development","remove","ReactDOM","getElementById"],"mappings":"AIAA,ACAA,AHAAiH,MAAM,CAACC,OAAP,GAAiB;AECjB,ACAA,AHAI,cAAY,EADC;AEEjB,ACAA,AHAI,ACFJ,8BDEgC,IAFf;AEGjB,ACAA,AHAI,UAAQ,IAHK;AEIjB,ACAA,AHAI,ACHJ,4BDG6B,CAAC,0CAAD,CAJZ;AEKjB,ACAA,AHAI,yBAAsB,uCALT;AEMjB,ACAA,AHAI,ACGJ,iCDHkC,aANjB;AEOjB,ACAA,AJPA,ACOI,AFPJ,aEOc,IAPG;AEQjB,ACAA,AHAI,ACEJ,AHTA,SAASlH,SEOU,KFPnB,CAAwBC,OAAxB,EAAiC,KEDhB;AESjB,ACAA,AJRA,ACQI,AFPHA,EAAAA,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWF,IEOM,GFPjB,CAAV,sCEFgB;AEUjB,ACAA,AHAI,ACCJ,wBDDyB,KAVR;AEWjB,ACAA,AJLA,ACKI,AFRH,MAAG,CAACA,OAAJ,EAAY,SEQa,GAXT;AEYjB,ACAA,AHAI,ACAJ,AHRE,WAAO,KAAP,QEQuB,GAZR;AEajB,ACAA,AJLA,ACKI,AFRF,qBEQoB,IAbL;AEcjB,ACAA,AHAI,ACDJ,oBDCqB,GAdJ;AEejB,ACAA,AJLA,ACKI,AFTH,MAAIG,OAAO,GAAGH,CESG,MFTjB;AIUD,ACAA,AHhBiB,ACqBjB,AHdC,CEPD,KFOKI,GAAG,GAAG,EAAV;AIUD,ACAA,AJLA;AGMA,ACAA,AFIA,AHdC,MAAID,OAAO,GAAG,KAAK,EAAnB,EAAuB;AIWxB,ACAA,AJLA,ADLEC,IAAAA,GAAG,IAAIH,IAAI,CAACC,KAAL,CAAWC,OAAO,IAAI,KAAK,EAAT,CAAlB,IAAkC,GAAzC;AIWF,ACAA,AFGA,AHbEA,IAAAA,OAAO,GAAGA,OAAO,IAAI,KAAK,EAAT,CAAjB;AIWF,ACAA,ALVE;AIWF,ACAA,AFEA;ACDA,ACAA,AJrBA,ADUCC,EAAAA,GAAG,IACFH,IAAI,CAACC,KAAL,CAAWC,OAAO,GAAG,EAArB,EACEE,QADF,GAEEC,QAFF,CAEW,CAFX,EAEc,GAFd,IAGA,GAHA,GAIA,CAACH,OAAO,GAAG,EAAX,EAAeE,QAAf,GAA0BC,QAA1B,CAAmC,CAAnC,EAAsC,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","file":"bundle.js","sourceRoot":"..","sourcesContent":["// Localizations\nfunction formatDuration(seconds) {\n\tseconds = Math.floor(seconds);\n\tif(!seconds){\n\t\treturn \"---\";\n\t}\n\tlet curSecs = seconds;\n\tlet out = \"\";\n\tif (curSecs > 60 * 60) {\n\t\tout += Math.floor(curSecs / (60 * 60)) + \":\";\n\t\tcurSecs = curSecs % (60 * 60);\n\t}\n\tout +=\n\t\tMath.floor(curSecs / 60)\n\t\t\t.toString()\n\t\t\t.padStart(2, \"0\") +\n\t\t\":\" +\n\t\t(curSecs % 60).toString().padStart(2, \"0\");\n\treturn out;\n}\nconst localizedFuncs = {\n    \"en\":{\n        formatDuration: formatDuration\n    }\n}\nexport {localizedFuncs};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// Fonts (broken currently)\n// import \"fontsource-roboto\";\n// Styles\n\nimport styles from \"./player.module.css\";\n// Text Stuff\nimport Typography from \"@material-ui/core/Typography\";\n// Grid Utils\nimport Grid from \"@material-ui/core/Grid\";\n// Widgets\nimport Slider from \"@material-ui/core/Slider\";\n// Get localized functions\nimport { localizedFuncs } from \"./utils.js\";\n// Event Emitter\nconst EventEmitter = require('events');\n\n// React Player to be imported\n// Meant to be reusable in other contexts\nconst hasArtist = [\"Song\"];\nconst hasMultipleArtists = [\"Album\"]; // Playlists are usually user created so they will have a variety of artists\nif (!i18n) {\n\ttry {\n\t\tvar i18n = require(\"i18n\");\n\t} catch (ex) {\n\t\tvar i18n = null; // Allow custom instances to be added later.\n\t}\n} // Might already be init\nfunction loadAllContentHandlers(settings){\n\treturn settings.get(\"enabledContentHandlers\").map(require);\n}\nfunction getBestContentHandler(uris,ch){\n\t// Earlier in the protocol string the better\n\t// Comma seperated URIs are not fully supported yet\n\tlet uriList = uris.split(\",\");\n\tfor(let i = 0; i < uriList.length; i ++){\n\t\tfor(let j = 0; j < ch.length; j ++){\n\t\t\tif(ch[j].canHandle(uriList[i])){\n\t\t\t\treturn [uriList[i],ch[j]];\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nlet contentPlayerCache = {};\nclass PlayerComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props); // Deprecated but needed\n\t\tlet preparedState = {\n\t\t\titemName: i18n.__(\"Nothing Playing\"),\n\t\t\tposition: 0,\n\t\t\titemLength: 0,\n\t\t\tlength: 1200,\n\t\t\tenabled: false,\n\t\t\tuserDragging: false, // Do not update while user is dragging\n\t\t\tinternalPlaylist: [],\n\t\t\tplayerType: \"none\"\n\t\t};\n\t\tif (props.name) {\n\t\t\tpreparedState[\"name\"] = props.name;\n\t\t\tpreparedState[\"enabled\"] = true;\n\t\t}\n\t\tif(props.controller){\n\t\t\tpreparedState[\"controller\"] = props.controller;\n\t\t}else{\n\t\t\tpreparedState[\"controller\"] = new EventEmitter();\n\t\t}\n\t\tthis.state = preparedState;\n\t}\n\ttick(){\n\t\tif(!this.state.enabled && this.state.internalPlaylist.length > 0){\n\t\t\tthis.playNextSong();\n\t\t}\n\t\tif(!this.state.player){\n\t\t\tconsole.log(\"tick aborted, due to no player\");\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(\"Ticking\");\n\t\t\n\t\tif(!this.state.userDragging){\n\t\t\tconsole.log('user is not dragging');\n\t\t\tthis.setState(function (state, props) {\n\t\t\t\tlet curTime = this.state.player.getCurrentTime();\n\t\t\t\tconsole.log(\"Set current time to\",curTime);\n\t\t\t\treturn { position:curTime};\n\t\t\t});\n\t\t}\n\t\t\n\t}\n\tcomponentDidMount() {\n\t\tthis.registerEvents(this.state.controller);\n\t\tthis.tickInterval = setInterval(this.tick.bind(this),this.props.settings.get(\"playerTickrate\"));\n\t}\n\tcomponentWillUnmount(){\n\t\tif(this.tickInterval){\n\t\t\tclearInterval(this.tickInterval);\n\t\t}\n\t}\n\tsetNewController(ee){\n\t\tthis.setState(function (state, props) {\n\t\t\treturn { controller:ee };\n\t\t});\n\t}\n\tasync playSong(songData){\n\t\t// Does not check queue\n\t\tlet uris = songData.contentURI;\n\t\t// TODO: NOT DEPEND ON REQUIRE CACHE\n\t\tlet [uri,ch] = getBestContentHandler(uris, loadAllContentHandlers(this.props.settings));\n\t\tlet prefferedPlayer = this.props.settings.get(ch.prefferedPlayerKey);\n\t\tlet SelectedPlayer = require(prefferedPlayer);\n\t\tlet player;\n\t\tif(this.state.playerType != SelectedPlayer.id){\n\t\t\tif(this.state.player && this.state.player.unload){\n\t\t\t\tawait this.state.player.unload();\n\t\t\t}\n\t\t\tplayer = new SelectedPlayer({document:document,window:window,emitter:this.state.controller});\n\t\t\tawait player.init();\n\t\t}else{\n\t\t\tplayer = this.state.player; // Get existing player\n\t\t}\n\t\tconsole.log('Init Finished');\n\t\tawait player.load(uri);\n\t\tconsole.log(\"Loaded uri into player\");\n\t\tawait player.play();\n\t\tconsole.log(\"Playing\")\n\t\tthis.setState(function (state, props) {\n\t\t\treturn {player: player,playerType:SelectedPlayer.id}\n\t\t});\n\t}\n\tplayNextSong(){\n\t\tif(this.state.internalPlaylist.length == 0){\n\t\t\tthis.setState(function (state, props) {\n\t\t\t\treturn {enabled: false};\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tlet newPlaylist = Array.from(this.state.internalPlaylist);\n\t\tconsole.log(JSON.stringify(newPlaylist));\n\t\tlet nextSong = newPlaylist.shift();\n\t\tthis.setState(function (state, props) {\n\t\t\treturn {internalPlaylist: newPlaylist};\n\t\t});\n\t\tthis.state.controller.emit(\"playSong\",nextSong);\n\t}\n\tregisterEvents(ee){\n\t\tif(ee.playerEventsRegistered){\n\t\t\treturn;\n\t\t}\n\t\tlet oThis = this; // original this\n\t\tee.playerEventsRegistered = true;\n\t\tee.on(\"playSong\",async function(songData){\n\t\t\t// Does not check for queue\n\t\t\toThis.updateItem(\"Song\",songData);\n\t\t\tawait oThis.playSong(songData);\n\t\t\toThis.setState(function (state, props) {\n\t\t\t\treturn {enabled: true}\n\t\t\t});\n\t\t});\n\n\t\tee.on(\"queueSong\",async function (songData){\t\t\t\n\t\t\toThis.setState(function (state, props) {\n\t\t\t\tlet newPlaylist = Array.from(this.state.internalPlaylist); // How to not screw up internal state\n\t\t\t\tnewPlaylist.push(songData);\n\t\t\t\t\n\t\t\t\treturn { internalPlaylist: newPlaylist };\n\t\t\t});\n\t\t});\n\t\t\n\t\tee.on(\"playing\",function(player){\n\t\t\t// Support for start/end metadata needed\n\t\t\t// oThis.updateDuration(player.getDuration());\n\t\t\toThis.tick();\n\t\t});\n\n\t\tee.on(\"end\", (player) => {\n\t\t\tthis.playNextSong();\n\t\t});\n\t\t\n\t}\n\tget duration(){\n\t\treturn this.state.duration;\n\t}\n\tupdateItem(type, params) {\n\t\tlet properties = {};\n\n\t\tif (\"name\" in params) {\n\t\t\tproperties.itemName = params.name;\n\t\t}\n\t\tif (hasArtist.includes(type)) {\n\t\t\tif (\"artist\" in params) {\n\t\t\t\tproperties.itemMadeBy = params.artist;\n\t\t\t}\n\t\t}\n\t\tif (\"duration\" in params) {\n\t\t\tif(params.start){\n\t\t\t\tif(params.end){\n\t\t\t\t\tproperties.duration = end - start;\n\t\t\t\t}else{\n\t\t\t\t\tproperties.duration = params.duration - start;\n\t\t\t\t}\n\t\t\t}else if(params.end){\n\t\t\t\tproperties.duration = end;\n\t\t\t}else{\n\t\t\t\tproperties.duration = params.duration;\n\t\t\t}\n\t\t\tproperties.itemLength = properties.duration;\n\t\t} else {\n\t\t\tproperties.duration = null; // Not provided\n\t\t}\n\t\t\n\t\tthis.setState(function (state, props) {\n\t\t\treturn properties;\n\t\t});\n\t}\n\tuserChangePos(ev, newVal) {\n\t\tconsole.log(\"Position changed to\", newVal);\n\t\tthis.state.player.setCurrentTime(newVal);\n\t\tthis.setState(function (state, props) {\n\t\t\treturn { position: newVal };\n\t\t});\n\t}\n\tupdateDuration(time) {\n\t\tconsole.log(\"Duration updated to \",time);\n\t\t// Sometimes duration can be found afterwards\n\t\tthis.setState(function (state, props) {\n\t\t\treturn { itemLength: time, duration: time };\n\t\t});\n\t}\n\t// User Drag Handlers\n\t// TODO: Account for touch displays???\n\tuserDragStart(ev){\n\t\tthis.setState(function (state, props) {\n\t\t\treturn { userDragging: true};\n\t\t});\n\t}\n\tuserDragEnd(ev){\n\t\tthis.setState(function (state, props) {\n\t\t\treturn { userDragging: false };\n\t\t});\n\t\tthis.userChangePos(ev,this.state.position);\n\t}\n\t// ! Main Rendering Code\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"player\">\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Typography variant=\"caption\">{this.state.enabled\n\t\t\t\t\t\t\t\t? (localizedFuncs[i18n.getLocale()].formatDuration(\n\t\t\t\t\t\t\t\t\t\tthis.state.position\n\t\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t\t: i18n.__(\"Idle Duration\")}</Typography>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={8}>\n\t\t\t\t\t\t\t<div className=\"playback-progress\" onPointerDown={this.userDragStart.bind(this)} onPointerUp={this.userDragEnd.bind(this)}>\n\t\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\t\tvalue={this.state.position}\n\t\t\t\t\t\t\t\t\tonChange={this.userChangePos.bind(this)}\n\t\t\t\t\t\t\t\t\taria-labelledby=\"continuous-slider\"\n\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\tmax={this.state.duration}\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.enabled}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t\t<Typography variant=\"caption\">{this.state.enabled\n\t\t\t\t\t\t\t\t? (\"-\" + localizedFuncs[i18n.getLocale()].formatDuration(\n\t\t\t\t\t\t\t\t\t\tthis.state.itemLength - this.state.position\n\t\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t\t: i18n.__(\"Idle Duration\")}</Typography>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<span className={styles.playerTitle}>\n\t\t\t\t\t\t<Typography variant=\"h5\">{this.state.itemName}</Typography>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className={styles.playerItemMadeBy}>\n\t\t\t\t\t\t<Typography variant=\"h6\"> {this.state.itemMadeBy}</Typography>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\nconsole.log(\"Imported styles\", styles);\nexport { PlayerComponent };\n","module.exports = {\r\n    \"pageSize\": 25,\r\n    \"snackbarAutoHideDuration\": 5000,\r\n    \"test\": true,\r\n    \"enabledContentHandlers\":[\"./static/modules/contenthandlers/youtube\"],\r\n    \"youtubePlayerMethod\":\"./static/modules/youtube_embed_iframe\",\r\n    \"fallbackYoutubePlayerMethod\":\"browserView\",\r\n    \"adblock\":true,\r\n    \"adblock-file\":\"easylist.blocklist\",\r\n    \"adblock-download-list\":\"http://easylist.to/easylist/easylist.txt\",\r\n    \"cookie-obliterator\":false,\r\n    \"initialWindowHeight\":600,\r\n    \"initialWindowWidth\":800,\r\n    \"customWindowbar\":true,\r\n    \"playerTickrate\":250,\r\n    \"useDarkMode\":\"system\"\r\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// Fonts\n\n// broken?\n// Roboto font for material\n//import 'fontsource-roboto'; // Workaround parcel issue?\n\n// Core components\nimport { Skeleton } from \"@material-ui/lab\";\nimport { Container } from \"@material-ui/core\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\n// import FormGroup from \"@material-ui/core/FormGroup\";\n// import FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\n// Utilites\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// Ui icons\nimport MenuIcon from \"@material-ui/icons/Menu\"; // Also called a hamburger\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport MusicNoteIcon from \"@material-ui/icons/MusicNote\";\nimport HomeRoundedIcon from \"@material-ui/icons/HomeRounded\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\n\n// Ui Widgets\n\nimport Paper from \"@material-ui/core/Paper\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Typography from \"@material-ui/core/Typography\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\nimport TouchRipple from \"@material-ui/core/ButtonBase/TouchRipple\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\n// List\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n// Tables\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\n// Utilities\nimport clsx from \"clsx\";\nconst {is} = require('electron-util');\nconst EventEmitter = require(\"events\");\n\n// Reusable Player Componoent\nimport { PlayerComponent } from \"./player\";\n\nconst Store = require(\"electron-store\");\n// Settings Loading\nif (!Store) {\n\tconsole.warn(\"NO STORE found\");\n}\nimport prefdefaults from \"./prefdefaults.json\";\nconst settings = new Store({\n\tdefaults: prefdefaults,\n});\n// Constants\nconst songViewHeaders = [\"Song Name\", \"Artist\", \"Duration\"];\n\n//import {$} from \"jquery\";\nconst $ = require(\"jquery\");\nconst regeneratorRuntime = require(\"regenerator-runtime\");\nconsole.log(\"bundle :D\");\nimport { localizedFuncs } from \"./utils.js\";\n\n// Constants\n\nconst documentID = Math.floor(Math.random() * 100000).toString();\nlet musicServer = \"http://localhost:3000\"; // NO SLASH!\nfunction capitlizeFirst(string) {\n\treturn string.charAt(0).toUpperCase() + string.slice(1);\n}\n// https://stackoverflow.com/questions/7045065/how-do-i-turn-a-javascript-dictionary-into-an-encoded-url-string\nfunction serialize(obj) {\n\tvar str = [];\n\tfor (var p in obj)\n\t\tstr.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n\treturn str.join(\"&\");\n}\nfunction calcColClass(cols) {\n\treturn \"s\" + 12 / cols;\n}\n// https://material-ui.com/components/snackbars/\nfunction Alert(props) {\n\treturn <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\nfunction placeholder(item, key) {\n\treturn <Skeleton animation=\"wave\" key={key} />;\n}\nclass ResultView extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props); // Deprecated but needed anyway\n\t\tthis.state = {\n\t\t\tpageIndex: 0,\n\t\t\ttype: props.type,\n\t\t\tpageData: [],\n\t\t\tconnectionFailedSnackbarOpen: false,\n\t\t\tcolumns: 3,\n\t\t};\n\t\tif (props.columns) {\n\t\t\tthis.state.columns = props.columns;\n\t\t}\n\t\tif (props.columnHeaders) {\n\t\t\tthis.state.colHeaders = props.columnHeaders.map((unlocalizedName) =>\n\t\t\t\ti18n.__(unlocalizedName)\n\t\t\t);\n\t\t} else {\n\t\t\tthis.state.colHeaders = new Array(this.state.columns).map((something) =>\n\t\t\t\ti18n.__(\"Unknown Header\")\n\t\t\t);\n\t\t}\n\t\tthis.search.bind(this)();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.query !== prevProps.query) {\n\t\t\tthis.search();\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\t// Code to run when component starts\n\t\tconsole.info(\"Result View Mounted\");\n\t\tthis.search();\n\t\tlet componentThis = this;\n\t\tthis.updateSearchInterval = setInterval(function () {\n\t\t\tif (componentThis.query) {\n\t\t\t\tcomponentThis.search.bind(componentThis)();\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// Componoent dies -> deconstructor\n\t\tclearInterval(this.updateSearchInterval);\n\t}\n\thideConnectionFailureSnackbar() {\n\t\tthis.setState(function (state, props) {\n\t\t\treturn {\n\t\t\t\tconnectionFailedSnackbarOpen: false,\n\t\t\t};\n\t\t});\n\t}\n\tshowConnectionFailureSnackbar() {\n\t\tthis.setState(function (state, props) {\n\t\t\treturn {\n\t\t\t\tconnectionFailedSnackbarOpen: true,\n\t\t\t};\n\t\t});\n\t}\n\thandleConnectionFailureSnackbarClose(event, reason) {\n\t\tif (reason == \"clickaway\") {\n\t\t\treturn;\n\t\t}\n\t\tthis.hideConnectionFailureSnackbar();\n\t}\n\tasync search() {\n\t\tconsole.log(\"Running Search Request\");\n\t\tlet pageSize = settings.get(\"pageSize\");\n\t\ttry {\n\t\t\tlet resp = await (\n\t\t\t\tawait fetch(\n\t\t\t\t\tmusicServer +\n\t\t\t\t\t\t\"/api/fetch_\" +\n\t\t\t\t\t\tthis.state.type +\n\t\t\t\t\t\t\"?\" +\n\t\t\t\t\t\tserialize({\n\t\t\t\t\t\t\tlimit: pageSize,\n\t\t\t\t\t\t\toffset: pageSize * this.state.pageIndex,\n\t\t\t\t\t\t\tname: this.props.query + \"%\",\n\t\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t).json();\n\t\t\tif (resp.status == \"ok\") {\n\t\t\t\tlet data = resp.data;\n\t\t\t\tconsole.log(\"Updating data for \" + this.state.query);\n\t\t\t\tthis.setState(function (state, props) {\n\t\t\t\t\treturn { pageData: data };\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (ex) {\n\t\t\tconsole.log(\"Connection failed: showing connection failure snackbar\", ex);\n\t\t\tthis.showConnectionFailureSnackbar();\n\t\t\treturn;\n\t\t}\n\t}\n\tonRowClickActivator(index) {\n\t\tthis.props.onRowClick(this.state.pageData[index], index);\n\t}\n\trender() {\n\t\tlet outerThis = this;\n\t\tfunction colgenerator(item, index) {\n\t\t\tlet cols = [];\n\t\t\tfor (let i = 0; i < this.state.columns; i++) {\n\t\t\t\tlet elem = (\n\t\t\t\t\t<TableCell align=\"left\" key={i}>\n\t\t\t\t\t\t{outerThis.props.renderCols(item, i)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t);\n\t\t\t\tcols.push(elem);\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<TableRow\n\t\t\t\t\tkey={index}\n\t\t\t\t\tonClick={this.onRowClickActivator.bind(this, index)}\n\t\t\t\t>\n\t\t\t\t\t{cols}\n\t\t\t\t</TableRow>\n\t\t\t);\n\t\t}\n\t\tlet comps = this.state.pageData.map(colgenerator.bind(this));\n\t\tlet tableHead = [];\n\t\tfor (let i = 0; i < this.state.columns; i++) {\n\t\t\ttableHead.push(\n\t\t\t\t<TableCell key={i} align=\"left\">\n\t\t\t\t\t{this.state.colHeaders[i]}\n\t\t\t\t</TableCell>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"results-wrapper\">\n\t\t\t\t\t<TableContainer component={Paper}>\n\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>{tableHead}</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>{comps}</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{i18n.__(\"Showing \")}\n\t\t\t\t\t\t{this.state.pageData.length} {i18n.__(\" items\")};\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<Snackbar\n\t\t\t\t\topen={this.state.connectionFailedSnackbarOpen}\n\t\t\t\t\tautoHideDuration={settings.get(\"snackbarAutoHideDuration\")}\n\t\t\t\t\tonClose={this.handleConnectionFailureSnackbarClose.bind(this)}\n\t\t\t\t>\n\t\t\t\t\t<Alert\n\t\t\t\t\t\tonClose={this.handleConnectionFailureSnackbarClose.bind(this)}\n\t\t\t\t\t\tseverity=\"error\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.__(\"Unable to establish connection to media provider\")}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Snackbar>\n\t\t\t</>\n\t\t);\n\t}\n}\nclass PlaylistView extends React.Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\t//super(props);\n\t\tthis.state = { searchBoxValue: \"\" };\n\t\t//this.fetchSearch = this.fetchSearch.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\t// Code to run when component is destoryed -> constructor\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// Componoent dies -> deconstructor\n\t}\n\tfetchSearch(event) {\n\t\t//console.log(event);\n\t\t//console.log(\"Updating Search\");\n\t\tlet searchValue = event.target.value;\n\t\t//console.log(\"New search value \"+searchValue);\n\t\tif (event.target.value) {\n\t\t\tthis.setState(function (state, props) {\n\t\t\t\treturn {\n\t\t\t\t\tsearchBoxValue: searchValue,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n\tonItemClick(e) {\n\t\tconsole.log(\"Item Click\", e, this);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"searchbox\"\n\t\t\t\t\tonChange={this.fetchSearch.bind(this)}\n\t\t\t\t\tlabel={i18n.__(\"Type to search\")}\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t/>\n\t\t\t\t<ResultView\n\t\t\t\t\ttype=\"playlists\"\n\t\t\t\t\tquery={this.state.searchBoxValue}\n\t\t\t\t\tonItemClick={this.onItemClick.bind(this)}\n\t\t\t\t></ResultView>\n\t\t\t\t<p>\n\t\t\t\t\t{i18n.__(\"Current querying \")} {settings.get(\"pageSize\")}{\" \"}\n\t\t\t\t\t{i18n.__(\" playlists matching the query \")}{\" \"}\n\t\t\t\t\t{this.state.searchBoxValue}\n\t\t\t\t</p>\n\t\t\t\t<div></div>\n\t\t\t</>\n\t\t);\n\t}\n}\nclass SongView extends React.Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\t//super(props);\n\t\tthis.state = { searchBoxValue: \"\" };\n\t\t//this.fetchSearch = this.fetchSearch.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\t// Code to run when component is destoryed -> constructor\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// Componoent dies -> deconstructor\n\t}\n\tfetchSearch(event) {\n\t\t//console.log(event);\n\t\t//console.log(\"Updating Search\");\n\t\tlet searchValue = event.target.value;\n\t\t//console.log(\"New search value \"+searchValue);\n\t\tif (event.target.value) {\n\t\t\tthis.setState(function (state, props) {\n\t\t\t\treturn {\n\t\t\t\t\tsearchBoxValue: searchValue,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n\tcreateSongNameCol(item, key) {\n\t\t// TODO: NOT USE INLINE STYLES\n\t\treturn (\n\t\t\t<div key={key}>\n\t\t\t\t<IconButton>\n\t\t\t\t\t<MusicNoteIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t{item.name}\n\t\t\t</div>\n\t\t);\n\t}\n\tcreateSongArtistCol(item, key) {\n\t\treturn <div>{item.artist}</div>;\n\t}\n\tcreateDurationCol(item, key) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{localizedFuncs[i18n.getLocale()].formatDuration(item.duration)}\n\t\t\t</div>\n\t\t);\n\t}\n\trenderCols(item, index, classes) {\n\t\tlet colGenerators = [\n\t\t\tthis.createSongNameCol.bind(this),\n\t\t\tthis.createSongArtistCol.bind(this),\n\t\t\tthis.createDurationCol.bind(this),\n\t\t]; // TODO: Not hardcode this here\n\t\treturn colGenerators[index](item, index); // Execute column generator function with the index\n\t}\n\thandleRowClick(rowData, index) {\n\t\tconsole.log(rowData);\n\t\tthis.props.controller.emit(\"queueSong\", rowData);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"searchbox\"\n\t\t\t\t\tonChange={this.fetchSearch.bind(this)}\n\t\t\t\t\tlabel={i18n.__(\"Type to search\")}\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t/>\n\t\t\t\t<ResultView\n\t\t\t\t\ttype=\"songs\"\n\t\t\t\t\tquery={this.state.searchBoxValue}\n\t\t\t\t\trenderCols={this.renderCols.bind(this)}\n\t\t\t\t\tcolumnHeaders={songViewHeaders}\n\t\t\t\t\tonRowClick={this.handleRowClick.bind(this)}\n\t\t\t\t></ResultView>\n\t\t\t\t<p>\n\t\t\t\t\t{i18n.__(\"Current querying \")} {settings.get(\"pageSize\")}{\" \"}\n\t\t\t\t\t{i18n.__(\" songs matching the query \")} {this.state.searchBoxValue}\n\t\t\t\t</p>\n\t\t\t\t<div></div>\n\t\t\t</>\n\t\t);\n\t}\n}\n// Home View\n// TODO: Populate with intresting things\nclass HomeComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\tcomponentDidMount() {\n\t\t// Code to run when component is destoryed -> constructor\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// Componoent dies -> deconstructor\n\t}\n\tstateChange() {\n\t\tthis.setState(function (state, props) {\n\t\t\treturn {};\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Typography variant=\"h3\">\n\t\t\t\t\t{i18n.__(\"Hello! This is the default homescreen for now. \")}\n\t\t\t\t</Typography>\n\t\t\t</>\n\t\t);\n\t}\n}\n// Drawer\nclass MainDrawerComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\ttriggerView(viewName) {\n\t\treturn ((event) => this.props.setCurView(viewName)).bind(this);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div onClick={this.props.drawerToggle}>\n\t\t\t\t<List>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<Typography variant=\"h3\">{i18n.__(\"App Name\")}</Typography>\n\t\t\t\t\t</ListItem>\n\t\t\t\t\t<ListItem button onClick={this.triggerView(\"homeview\")}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<HomeRoundedIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={\"Home\"}></ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<ListItem button onClick={this.triggerView(\"songs\")}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<MusicNoteIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={i18n.__(\"Songs\")}></ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t\t<ListItem button onClick={this.triggerView(\"settings\")}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<SettingsIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={i18n.__(\"Settings\")}></ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</List>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Main Comp\nfunction MainComponent() {\n\t// Theme Logic\n\tlet useDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\tif (settings.get(\"useDarkMode\") != \"system\") {\n\t\tuseDarkMode = settings.get(\"useDarkMode\");\n\t}\n\tconst theme = React.useMemo(\n\t\t() =>\n\t\t\tcreateMuiTheme({\n\t\t\t\tpalette: {\n\t\t\t\t\ttype: useDarkMode ? \"dark\" : \"light\",\n\t\t\t\t},\n\t\t\t}),\n\t\t[useDarkMode]\n\t);\n\n\t// Handle Menu Logic\n\tlet [serversAnchorEl, setServersAnchorEl] = React.useState(null);\n\tlet [drawerOpen, setDrawerOpen] = React.useState(false);\n\tfunction toggleDrawer(event) {\n\t\tsetDrawerOpen(!drawerOpen);\n\t}\n\tfunction handleMenu(event) {\n\t\tconsole.log(this);\n\t\tsetServersAnchorEl(event.target);\n\t}\n\tfunction handleClose(event) {\n\t\tconsole.log(this);\n\t\tsetServersAnchorEl(null);\n\t}\n\n\t//let [open] = React.useState(true);\n\t// Current View\n\tlet [curView, setCurView] = React.useState(\"homeview\");\n\tconst serversOpen = Boolean(serversAnchorEl);\n\tconst [controller, changeController] = React.useState(new EventEmitter());\n\n\t// Legacy Views System\n\tlet views = {};\n\tviews.playlists = <PlaylistView />;\n\tviews.songs = <SongView controller={controller} />;\n\tviews.homeview = <HomeComponent />;\n\twindow.debug = {};\n\twindow.debug.views = views;\n\tconst stylesSet = makeStyles((theme) => ({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\ttitle: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tmenuButton: {\n\t\t\tmarginRight: theme.spacing(2),\n\t\t},\n\t}));\n\tconst classes = stylesSet();\n\treturn (\n\t\t<>\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<Drawer anchor=\"left\" open={drawerOpen} onClick={toggleDrawer}>\n\t\t\t\t\t\t<MainDrawerComponent\n\t\t\t\t\t\t\tdrawerToggle={toggleDrawer}\n\t\t\t\t\t\t\tsetCurView={setCurView}\n\t\t\t\t\t\t></MainDrawerComponent>\n\t\t\t\t\t</Drawer>\n\t\t\t\t\t<AppBar position=\"static\">\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tedge=\"start\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\taria-label=\"menu\"\n\t\t\t\t\t\t\t\tonClick={toggleDrawer}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\t{i18n.__(\"App Name\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\taria-label=\"Switch Media Server\"\n\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handleMenu}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<StorageIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\t\tid=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\tanchorEl={serversAnchorEl}\n\t\t\t\t\t\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n\t\t\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n\t\t\t\t\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\t\t\t\t\topen={serversOpen}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={setServer}>Local</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={setServer}>Add new server</MenuItem>\n\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Container maxWidth=\"md\">{views[curView]}</Container>\n\n\t\t\t\t\t<PlayerComponent settings={settings} controller={controller} />\n\t\t\t\t</div>\n\t\t\t</ThemeProvider>\n\t\t</>\n\t);\n}\n// Bootstrap code\n// really odd part i'm learning\n\n\nfunction setServer(comp) {}\n\n$(function () {\n\t// TODO: Replace with Vanilla JS to make script size smaller\n\tif (settings.get(\"customWindowbar\")) {\n\t\tconst customTitlebar = require(\"custom-electron-titlebar\");\n\n\t\tnew customTitlebar.Titlebar({\n\t\t\tbackgroundColor: customTitlebar.Color.fromHex(\"#444\"),\n\t\t});\n\t\tif(is.development){\n\t\t\t$(\"#menufix\").remove()\n\t\t}else{\n\t\t\t$(\"div[role=menubar]\").remove();\n\t\t}\n\t}\n\tReactDOM.render(<MainComponent />, document.getElementById(\"root\"));\n});\n\nconsole.log(\"Player Comp\", PlayerComponent);\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}