{"version":3,"sources":["utils.js","player.js","unbundle.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["formatDuration","seconds","curSecs","out","Math","floor","toString","padStart","localizedFuncs","hasArtist","hasMultipleArtists","i18n","require","ex","PlayerComponent","React","Component","constructor","props","preparedState","itemName","__","position","itemLength","length","enabled","userDragging","name","state","componentDidMount","componentWillUnmount","updateItem","type","params","properties","includes","itemMadeBy","artist","duration","setState","changePos","ev","newVal","console","log","updateDuration","time","itemDuration","userDragStart","userDragEnd","render","getLocale","bind","styles","playerTitle","playerItemMadeBy","Store","warn","settings","defaults","pageSize","snackbarAutoHideDuration","$","regeneratorRuntime","columnTypes","playlists","songs","albums","columnProps","item","createdAt","JSON","parse","contents","updatedAt","musicServer","capitlizeFirst","string","charAt","toUpperCase","slice","serialize","obj","str","p","push","encodeURIComponent","join","calcColClass","cols","ResultView","pageIndex","col1","col2","col3","pageData","search","shouldComponentUpdate","nextProps","info","queryChanged","query","componentDidUpdate","prevProps","componentThis","updateSearchInterval","setInterval","clearInterval","hideConnectionFailureSnackbar","connectionFailedSnackbarOpen","showConnectionFailureSnackbar","get","resp","fetch","limit","offset","json","status","data","cellgenerator","cellFunc","index","colgenerator","map","func","comps","Paper","PlaylistView","searchBoxValue","fetchSearch","event","searchValue","target","value","onItemClick","e","SongView","HomeComponent","stateChange","MainDrawerComponent","triggerView","viewName","setCurView","drawerToggle","views","homeview","window","debug","MainComponent","useDarkMode","theme","useMemo","palette","serversAnchorEl","setServersAnchorEl","useState","drawerOpen","setDrawerOpen","toggleDrawer","handleMenu","handleClose","curView","serversOpen","Boolean","stylesSet","root","flexGrow","title","menuButton","marginRight","spacing","classes","vertical","horizontal","setServer","comp","ReactDOM","document","getElementById"],"mappings":"AGAA,ACAA;ADCA,ACAA;ADCA,ACAA,AFFA;ACGA,ACAA;ADCA,ACAA,AFHA;ACIA,ACAA;ADCA,ACAA,AFGA;ACFA,ACAA,AHPA,ADAA;AGQA,ACAA,AFEA,AFTA,SAASA,cAAT,CAAwBC,OAAxB,EAAiC;AGQjC,ACAA,AHRA,ADCC,MAAIC,OAAO,GAAGD,OAAd;AGQD,ACAA,AFCA,AFRC,MAAIE,GAAG,GAAG,EAAV;AGQD,ACAA,AHLA;AEMA,ACAA,AFAA,AFRC,MAAID,OAAO,GAAG,KAAK,EAAnB,EAAuB;AGSxB,ACAA,AHLA,ADHEC,IAAAA,GAAG,IAAIC,IAAI,CAACC,KAAL,CAAWH,OAAO,IAAI,KAAK,EAAT,CAAlB,IAAkC,GAAzC;AGSF,ACAA,AFDA,AFPEA,IAAAA,OAAO,GAAGA,OAAO,IAAI,KAAK,EAAT,CAAjB;AGSF,ACAA,AHLA,ADHE;AGSF,ACAA,AFKA;ACJA,ACAA,AHLA,ADJCC,EAAAA,GAAG,IACFC,IAAI,CAACC,KAAL,CAAWH,OAAO,GAAG,EAArB,EACEI,QADF,GAEEC,QAFF,CAEW,CAFX,EAEc,GAFd,IAGA,GAHA,GAIA,CAACL,OAAO,GAAG,EAAX,EAAeI,QAAf,GAA0BC,QAA1B,CAAmC,CAAnC,EAAsC,GAAtC,CALD;AGUD,ACAA,AFIA,AFRC,SAAOJ,GAAP;AGKD,ACAA,AHLA,ADCC;AGKD,ACAA,AFGA;ACFA,ACAA,AJLA,MAAMK,cAAc,GAAG;AGMvB,ACAA,AFEA,AFPI,QAAK;AGMT,ACAA,AHrBA,ADgBQR,IAAAA,cAAc,EAAEA;AGMxB,ACAA,AHrBA,ACyBA,AFXS;AGQT,ACAA,AHrBA,ADYuB,CAAvB;AGUA,ACAA,AHnBA,ACsBA;ACFA,ACAA,AHlBA;AEmBA,ACAA,AHjBA,ACmBA;ACDA,ACAA,AHhBA;AGiBA,AHdA,ACeA;ADdA;AACA,ACcA,MDdMS,SAAS,GAAG,CAAC,MAAD,CAAlB;AACA,MAAMC,kBAAkB,GAAG,CAAC,OAAD,CAA3B,EAAsC;ACctC;ADbA,IAAI,CAACC,IAAL,EAAW;AACV,ACaD,MDbK;AACH,QAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;AACA,ACYF,GDdC,CAEE,OAAOC,EAAP,EAAW;AACZ,QAAIF,IAAI,GAAG,IAAX,CADY,CACK;AACjB,ACWF;ADVC,EAAC;ACWF;;ADVA,ACWA,MDXMG,eAAN,SAA8BC,eAAMC,SAApC,CAA8C;AAC7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,ACUF,UDVQA,KAAN,EADkB,CACJ;;AACd,ACWF,QDXMC,aAAa,GAAG;AACnBC,MAAAA,QAAQ,EAAET,IAAI,CAACU,EAAL,CAAQ,iBAAR,CADS;AAEnBC,ACUH,MDVGA,QAAQ,EAAE,CAFS;AAGnBC,MAAAA,UAAU,EAAE,CAHO;AAInBC,ACSH,MDTGA,MAAM,EAAE,IAJW;AAKnBC,MAAAA,OAAO,EAAE,KALU;AAMnBC,ACSH,MDTGA,YAAY,EAAE,KANK,CAME;;AANF,ACgBtB,KDhBE;;AAQA,ACSF,QDTMR,KAAK,CAACS,IAAV,EAAgB;AACfR,MAAAA,aAAa,CAAC,MAAD,CAAb,GAAwBD,KAAK,CAACS,IAA9B;AACAR,ACQH,MDRGA,aAAa,CAAC,SAAD,CAAb,GAA2B,IAA3B;AACA;ACQH;ADPE,SAAKS,KAAL,GAAaT,aAAb;AACA,ACOF;;ADNCU,ACSD,EDTCA,iBAAiB,GAAG,CACnB;AACA;ACUF;ADRCC,EAAAA,oBAAoB,GAAG,CACtB;AACA,ACwBF;;ADvBCC,EAAAA,UAAU,CAACC,IAAD,EAAOC,MAAP,EAAe;AACxB,QAAIC,UAAU,GAAG,EAAjB;AClDF;ADoDE,AClDF,QDkDM,UAAUD,MAAd,EAAsB;AACrBC,AClDH,MDkDGA,UAAU,CAACd,QAAX,GAAsBa,MAAM,CAACN,IAA7B;AACA,AClDH;AAEA;ADiDE,AC3CF,QD2CMlB,SAAS,CAAC0B,QAAV,CAAmBH,IAAnB,CAAJ,EAA8B;AAC7B,AC3CH,UD2CO,YAAYC,MAAhB,EAAwB;AACvBC,AC1CJ,QD0CIA,UAAU,CAACE,UAAX,GAAwBH,MAAM,CAACI,MAA/B;AACA,ACxCJ;ADyCG,ACxC6C;AAKhD;ADoCE,ACtBF,QDsBM,cAAcJ,MAAlB,EAA0B;AACzBC,ACnBH,MDmBGA,UAAU,CAACI,QAAX,GAAsBL,MAAM,CAACK,QAA7B;AACA,ACZH,KDUE,MAEO;AACNJ,ACVH,MDUGA,UAAU,CAACI,QAAX,GAAsB,IAAtB,CADM,CACsB;AAC5B,ACRH,MAAMkB,KAAK,GAAG5C,OAAO,CAAC,gBAAD,CAArB,EACA;;ADSE,SAAK2B,QAAL,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,ACTH,IAAI,CAACsC,KAAL,EAAY,CDSFtB,UAAP;AACA,ACTFS,EAAAA,GDOC,ICPM,CAACc,IAAR,CAAa,gBAAb;ADUC,ACTD;;ADUAjB,ACTD,EDSCA,ICTKkB,KDSI,CAACjB,EAAD,ACTI,EDSCC,CCTE,IAAIc,CDSX,EAAa,ECTN,CAAU;ADUzBb,ACTDgB,EAAAA,EDSChB,MCTO,CDSA,CAACC,ACTC,GDST,CAAY,qBAAZ,EAAmCF,MAAnC;AACA,ACTAkB,IAAAA,KDSKrB,GCTG,EAAE,EADD,CDUT,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,ACTD2C,IAAAA,SDSQ,eCTgB,EAAE;ADShBvC,ACXD,QDWCA,QAAQ,EAAEoB;AAAZ,ACZiB,CAAV,CAAjB,EAOA,GDKG;AACA,KAFD;AAGA,ACNF,MAAMoB,CAAC,GAAGlD,OAAO,CAAC,QAAD,CAAjB;;ADOCiC,ACND,EDMCA,ICNKkB,UDMS,CAACjB,IAAD,EAAO,CCNE,GAAGlC,OAAO,CAAC,qBAAD,CAAlC;ADOE;AACA,ACPF+B,OAAO,CAACC,CDODL,ECPP,CAAY,KDOV,CAAc,KCPhB,KDO0BX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,ACLH,aDKU;AAAE6B,ACJZ,MAAMiB,EDIMjB,SCJK,GDIO,ACJJ,EDIMD;AAAhB,ACHTmB,EAAAA,KDGE,ICHO,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,aAAjB,CADQ;ADKjB,ACHFC,EAAAA,GDCC,ECDI,EAAE,CAAC,MAAD,EAAS,QAAT,EAAmB,UAAnB,CAFY;ADMlB,ACHDC,EAAAA,CDrD6C,CAyD7C,ICJM,EAAE,CAAC,MAAD,EAAS,cAAT,EAAyB,OAAzB;ADKR,ACRmB,CAApB;AAKA,MAAMC,WAAW,GAAG;AACnBH,EAAAA,SAAS,EAAE,CACTI,IAAD,IAAUA,IAAI,CAAC1C,IADL,EAET0C,IAAD,IAAUA,IAAI,CAACC,SAFL,EAGTD,IAAD,IAAUE,IAAI,CAACC,KAAL,CAAWH,IAAI,CAACI,QAAhB,EAA0BjD,MAH1B,CADQ;ADInBwB,ACEAkB,EDFAlB,ACEAkB,KAAK,EAAE,CACLG,IAAD,CDHY,CAAC5B,EAAD,ACGF4B,EDHM,ECGF,CAAC1C,IADT,EAEL0C,IAAD,IAAUA,IAAI,CAAChC,MAFT,EAGLgC,IAAD,IACCA,IAAI,CAAC/B,QAAL,GACG9B,sBAAeG,IAAI,CAACwC,SAAL,EAAf,EAAiCnD,cAAjC,CAAgDqE,IAAI,CAAC/B,QAArD,CADH,GAEG,SANE,CANY;ADKlB,ACSD6B,EAAAA,MAAM,CDTA5B,CCSE,CACN8B,IAAD,EDVA,CAAc,CCUJA,IAAI,CAAC1C,IDVSC,ACSjB,EAENyC,GDXa,CCWd,CDX+BnD,GCWrBmD,EDXI,EAAwB,ACWxB,CAACK,SAFR,EAGNL,IAAD,IAAUE,IAAI,CAACC,KAAL,CAAWH,IAAI,CAACI,QAAhB,EAA0BjD,MAH7B;ADRN,ACNiB,CAApB,YDMU;AAAEE,ACeZ,IAAIiD,IDfQjD,OCeG,GAAG,EDfM,EAAE,mBCe1B,EAA2C;ADfjC,OAAP;AACA,ACeH,KDjBE,ICiBOkD,cAAT,CAAwBC,MAAxB,EAAgC;ADd9B,ACeD,SAAOA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,KAAiCF,MAAM,CAACG,KAAP,CAAa,CAAb,CAAxC;AACA,EACD;ADhBC/B,EAAAA,WAAW,CAACR,EAAD,EAAI;AACd,SAAKF,QAAL,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,ACeH,SAAS+D,IDfC,KCeV,CAAmBC,GAAnB,EAAwB;ADfZxD,ACgBX,MAAIyD,EDhBOzD,CCgBJ,GAAG,EAAV,MDhBuB,EAAE;AAAhB,OAAP;AACA,ACgBF,KDlBC,ECkBI,IAAI0D,CAAT,IAAcF,GAAd,EACCC,GAAG,CAACE,IAAJ,CAASC,kBAAkB,CAACF,CAAD,CAAlB,GAAwB,GAAxB,GAA8BE,kBAAkB,CAACJ,GAAG,CAACE,CAAD,CAAJ,CAAzD;ADhBA,GApE4C,CAqE7C;ACgBA,SAAOD,GAAG,CAACI,IAAJ,CAAS,GAAT,CAAP;AACA;ADhBArC,EAAAA,MAAM,GAAG;AACR,ACgBF,SAASsC,YAAT,CAAsBC,EDfnB,ECeH,EAA4B,qEDdxB;AAAK,ACeR,MDfQ,GCeD,MDfU,ACeJ,EDfK,GCeAA,IAAlB;ADfG,ACgBH,oBDfI,6BAAC,aAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,ACgBrB,MDhBqB,ACgBfC,ODhBsB,EAAE,CCgB9B,SAAyB3E,eAAMC,SAA/B,CAAyC;ADhBpC,ACiBJC,EAAAA,WAAW,CAACC,KAAD,CDhBN,CCgBc,4BDhBb,aAAD;AAAM,ACiBV,MDjBU,IAAI,ACiBRA,KAAN,CDjBI,CCgBc,CACJ;ADjBC,MAAA,EAAE,EAAE;AAAf,ACkBJ,SAAKU,KAAL,GAAa,GDhBR,6BAAC,mBAAD;AAAY,ACiBhB+D,MDjBgB,ACiBhBA,ODjBuB,EAAC,ACiBf,EAAE,CADC;ADhBR,ACkBJ3D,MAAAA,CDlBmC,GCkB/B,EDlBoCJ,ACkBlCV,KDlB6B,ACkBxB,CDlBmCO,ACkBlCO,IAFA,GDhBuB,GAC3BxB,sBAAeG,IAAI,CAACwC,SAAL,EAAf,EAAiCnD,cAAjC,CACD,KAAK4B,KAAL,CAAWN,QADV,CAD2B,GAI5BX,IAAI,CAACU,EAAL,CAAQ,eAAR,CAJH,CAFD,CADD,eAUC,6BAAC,aAAD;AAAM,ACYTuE,MDZS,ACYTA,IDZa,ACYT,EAAEjF,IDZH,ACYO,CAACU,EAAL,CAAQ2C,WAAW,CAAC9C,KAAK,CAACc,IAAP,CAAX,CAAwB,CAAxB,CAAR,CAHM;ADTE,ACad6D,MDbc,ACadA,EDbgB,EAAE,ACad,EAAElF,IAAI,CAACU,EAAL,CAAQ2C,WAAW,CAAC9C,KAAK,CAACc,IAAP,CAAX,CAAwB,CAAxB,CAAR,CAJM;ADTT,ACcH8D,MAAAA,IAAI,EAAEnF,IAAI,CAACU,EAAL,CDbF,ACaU2C,WAAW,CAAC9C,KAAK,CAACc,IAAP,CAAX,CAAwB,CAAxB,CAAR,CALM;ADRH,ACcT+D,MDdS,ACcTA,QAAQ,CDdU,CCcR,CDdS,mBAAf;AAAmC,ACQ3B,KAAb,CDRwC,aAAa,EAAE,KAAK/C,aAAL,CAAmBI,IAAnB,CAAwB,IAAxB,CAAlD;AAAiF,ACgBtF,MDhBsF,GCgBjF4C,MAAL,CAAY5C,CDhBqF,EAAE,CCgBnG,CAAiB,GDhBuFH,CCgBxG,UDhBmG,CAAiBG,IAAjB,CAAsB,IAAtB;AAA9F,ACiBL,oBDhBM,6BAAC,eAAD;AACC,MAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWN,QADnB;AAEC,ACeR2E,EAAAA,IDfQ,QAAQ,EAAE,KAAKzD,ECeF,CAAC0D,MDfJ,CAAe9C,ECeZ,EDfH,ACee,CDfK,IAApB,CAFX;AAGC,ACePT,IAAAA,OAAO,CAACwD,IAAR,CAAa,QDfU,QCevB,WDlBM;AAIC,ACeP,MDfO,GAAG,CCeJC,CDfM,CAJN,UCmBY,GAAG,KAAKlF,KAAL,CAAWmF,KAAX,KAAqBH,SAAS,CAACG,KAApD;ADdO,ACeP,MDfO,GAAG,EAAE,ACeLD,KDfUxE,KAAL,CAAWJ,CCevB,KDpBM;AAMC,ACeP,MDfO,QAAQ,EAAE,CAAC,KAAKI,KAAL,CAAWH;AANvB,MADD,CADD,CAVD,eAsBC,6BAAC,aAAD;AAAM,ACYX6E,EAAAA,IDZW,IAAI,MAAV,ICYa,CAACC,SAAD,EAAY;ADZd,ACaf,MDbe,EAAE,ACab,EDbe,GCaVrF,KAAL,CAAWmF,KAAX,KAAqBE,SAAS,CAACF,KAAnC,EAA0C;ADbtC,ACcH,WAAKL,MAAL,GDbI,6BAAC,mBAAD;AAAY,ACchB,MDdgB,OAAO,EAAC;AAApB,ACeL,ODfoC,KAAKpE,KAAL,CAAWH,OAAX,GAC3B,MAAMjB,sBAAeG,IAAI,CAACwC,SAAL,EAAf,EAAiCnD,cAAjC,CACP,KAAK4B,KAAL,CAAWL,UAAX,GAAwB,KAAKK,KAAL,CAAWN,QAD5B,CADqB,GAI5BX,IAAI,CAACU,EAAL,CAAQ,eAAR,CAJH,CADD,CAtBD,CADD,eAgCC;AAAM,MAAA,SAAS,EAAEgC,sBAAOC;AAAxB,ACQJzB,EAAAA,iBAAiB,CDPZ,ECOe,2BDPd,mBAAD;AAAY,ACQhB,MDRgB,OAAO,EAAC;AAApB,ACSJc,IAAAA,GDT8B,ICSvB,CDT4Bf,ACS3BuE,IAAR,CDT8B,ACSjB,CDT4B/E,QAArC,CADD,CAhCD,UC0CF,KDPG;AAAM,ACQT,MDRS,GCQJ4E,MDRa,ACQlB,EDRoB3C,sBAAOE;AAAxB,ACSH,QAAIiD,YDRA,CCQa,GAAG,IAApB,qBDRK,mBAAD;AAAY,ACShB,MDTgB,GCSXC,IDTkB,EAAC,cCSxB,GAA4BC,WAAW,CAAC,YAAY;ADThD,ACUH,ODV6B,GCUzBF,EDV8B5E,KAAL,CAAWQ,KCUvB,CAACiE,IDVf,CADD,ACWF,CD9CC,CADD,AC+CyB,CDhD1B;AA2CA,ACMEG,QAAAA,aAAa,CAACR,MAAd,CAAqB5C,IAArB,CAA0BoD,aAA1B;AACA;ADzH0C,AC0H3C,KAJsC,EAIpC,IAJoC,CAAvC;AAKA;;ADPF7D,ACSCb,EAAAA,KDTM,CAACc,GAAR,CAAY,UCSS,GAAG,IDTxB,EAA+BS,qBAA/B;ACUE;AACAsD,IAAAA,aAAa,CAAC,KAAKF,oBAAN,CAAb;AACA;;AACDG,EAAAA,6BAA6B,GAAE;AAC9B,SAAKrE,QAAL,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,aAAO;AACN2F,QAAAA,4BAA4B,EAAE;AADxB,OAAP;AAGA,KAJD;AAKA;;AACDC,EAAAA,6BAA6B,GAAE;AAC9B,SAAKvE,QAAL,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,aAAO;AACN2F,QAAAA,4BAA4B,EAAE;AADxB,OAAP;AAGA,KAJD;AAKA;;AACD,QAAMb,MAAN,GAAe;AACdrD,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA,QAAIgB,QAAQ,GAAGF,QAAQ,CAACqD,GAAT,CAAa,UAAb,CAAf;;AACA,QAAI;AACH,UAAIC,IAAI,GAAG,MAAM,CAChB,MAAMC,KAAK,CACVtC,WAAW,GACV,aADD,GAEC,KAAK/C,KAAL,CAAWI,IAFZ,GAGC,GAHD,GAICiD,SAAS,CAAC;AACTiC,QAAAA,KAAK,EAAEtD,QADE;AAETuD,QAAAA,MAAM,EAAEvD,QAAQ,GAAG,KAAKhC,KAAL,CAAW+D,SAFrB;AAGThE,QAAAA,IAAI,EAAE,KAAKT,KAAL,CAAWmF,KAAX,GAAmB;AAHhB,OAAD,CALA,CADK,EAYfe,IAZe,EAAjB;;AAaA,UAAIJ,IAAI,CAACK,MAAL,IAAe,IAAnB,EAAyB;AACxB,YAAIC,IAAI,GAAGN,IAAI,CAACM,IAAhB;AACA3E,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuB,KAAKhB,KAAL,CAAWyE,KAA9C;AACA,aAAK9D,QAAL,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,iBAAO;AAAE6E,YAAAA,QAAQ,EAAEuB;AAAZ,WAAP;AACA,SAFD;AAGA;AACD,KArBD,CAqBE,OAAOzG,EAAP,EAAW,CAEZ;AACD;;AACDqC,EAAAA,MAAM,GAAG;AACR,aAASqE,aAAT,CAAuBC,QAAvB,EAAiCnD,IAAjC,EAAuCoD,KAAvC,EAA8C;AAC7C,0BACC,6BAAC,kBAAD;AAAW,QAAA,KAAK,EAAC,OAAjB;AAAyB,QAAA,GAAG,EAAEA;AAA9B,SACED,QAAQ,CAACnD,IAAD,CADV,CADD;AAKA;;AACD,aAASqD,YAAT,CAAsBrD,IAAtB,EAA4B;AAC3B,0BACC,6BAAC,iBAAD,QACED,WAAW,CAAC,KAAKlD,KAAL,CAAWc,IAAZ,CAAX,CAA6B2F,GAA7B,CAAiC,UAAUC,IAAV,EAAgBH,KAAhB,EAAuB;AACxD,eAAOF,aAAa,CAACnE,IAAd,CAAmB,IAAnB,EAAyBwE,IAAzB,EAA+BvD,IAA/B,EAAqCoD,KAArC,CAAP;AACA,OAFA,CADF,CADD;AAOA;;AACD,QAAII,KAAK,GAAG,KAAKjG,KAAL,CAAWmE,QAAX,CAAoB4B,GAApB,CAAwBD,YAAY,CAACtE,IAAb,CAAkB,IAAlB,CAAxB,CAAZ;AAEA,wBACC;AAAK,MAAA,SAAS,EAAC;AAAf,oBACC,6BAAC,uBAAD;AAAgB,MAAA,SAAS,EAAE0E;AAA3B,oBACC,6BAAC,cAAD,qBACC,6BAAC,kBAAD,qBACC,6BAAC,iBAAD,qBACC,6BAAC,kBAAD,QAAY,KAAKlG,KAAL,CAAWgE,IAAvB,CADD,eAEC,6BAAC,kBAAD,QAAY,KAAKhE,KAAL,CAAWiE,IAAvB,CAFD,eAGC,6BAAC,kBAAD,QAAY,KAAKjE,KAAL,CAAWkE,IAAvB,CAHD,CADD,CADD,eAQC,6BAAC,kBAAD,QAAY+B,KAAZ,CARD,CADD,CADD,eAaC,wCACElH,IAAI,CAACU,EAAL,CAAQ,UAAR,CADF,EAEE,KAAKO,KAAL,CAAWmE,QAAX,CAAoBvE,MAFtB,OAE+Bb,IAAI,CAACU,EAAL,CAAQ,QAAR,CAF/B,MAbD,CADD;AAoBA;;AAxHuC;;AA0HzC,MAAM0G,YAAN,SAA2BhH,eAAMC,SAAjC,CAA2C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,YADkB,CAElB;;AACA,SAAKU,KAAL,GAAa;AAAEoG,MAAAA,cAAc,EAAE;AAAlB,KAAb,CAHkB,CAIlB;AACA;;AACDnG,EAAAA,iBAAiB,GAAG,CACnB;AACA;;AAEDC,EAAAA,oBAAoB,GAAG,CACtB;AACA;;AACDmG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB;AACA;AACA,QAAIC,WAAW,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAA/B,CAHkB,CAIlB;;AACA,QAAIH,KAAK,CAACE,MAAN,CAAaC,KAAjB,EAAwB;AACvB,WAAK9F,QAAL,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,eAAO;AACN8G,UAAAA,cAAc,EAAEG;AADV,SAAP;AAGA,OAJD;AAKA;AACD;;AACDG,EAAAA,WAAW,CAACC,CAAD,EAAI;AACd5F,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B2F,CAA1B,EAA6B,IAA7B;AACA;;AACDrF,EAAAA,MAAM,GAAG;AACR,wBACC,yEACC,6BAAC,kBAAD;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,SAAS,EAAC,WAFX;AAGC,MAAA,QAAQ,EAAE,KAAK+E,WAAL,CAAiB7E,IAAjB,CAAsB,IAAtB,CAHX;AAIC,MAAA,KAAK,EAAEzC,IAAI,CAACU,EAAL,CAAQ,gBAAR,CAJR;AAKC,MAAA,SAAS,EAAE;AALZ,MADD,eAQC,6BAAC,UAAD;AACC,MAAA,IAAI,EAAC,WADN;AAEC,MAAA,KAAK,EAAE,KAAKO,KAAL,CAAWoG,cAFnB;AAGC,MAAA,WAAW,EAAE,KAAKM,WAAL,CAAiBlF,IAAjB,CAAsB,IAAtB;AAHd,MARD,eAaC,wCACEzC,IAAI,CAACU,EAAL,CAAQ,mBAAR,CADF,OACiCqC,QAAQ,CAACqD,GAAT,CAAa,UAAb,CADjC,EAC2D,GAD3D,EAEEpG,IAAI,CAACU,EAAL,CAAQ,gCAAR,CAFF,EAE6C,GAF7C,EAGE,KAAKO,KAAL,CAAWoG,cAHb,CAbD,eAkBC,yCAlBD,CADD;AAsBA;;AArDyC;;AAuD3C,MAAMQ,QAAN,SAAuBzH,eAAMC,SAA7B,CAAuC;AACtCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,YADkB,CAElB;;AACA,SAAKU,KAAL,GAAa;AAAEoG,MAAAA,cAAc,EAAE;AAAlB,KAAb,CAHkB,CAIlB;AACA;;AACDnG,EAAAA,iBAAiB,GAAG,CACnB;AACA;;AAEDC,EAAAA,oBAAoB,GAAG,CACtB;AACA;;AACDmG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB;AACA;AACA,QAAIC,WAAW,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAA/B,CAHkB,CAIlB;;AACA,QAAIH,KAAK,CAACE,MAAN,CAAaC,KAAjB,EAAwB;AACvB,WAAK9F,QAAL,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,eAAO;AACN8G,UAAAA,cAAc,EAAEG;AADV,SAAP;AAGA,OAJD;AAKA;AACD;;AAEDjF,EAAAA,MAAM,GAAG;AACR,wBACC,yEACC,6BAAC,kBAAD;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,SAAS,EAAC,WAFX;AAGC,MAAA,QAAQ,EAAE,KAAK+E,WAAL,CAAiB7E,IAAjB,CAAsB,IAAtB,CAHX;AAIC,MAAA,KAAK,EAAEzC,IAAI,CAACU,EAAL,CAAQ,gBAAR,CAJR;AAKC,MAAA,SAAS,EAAE;AALZ,MADD,eAQC,6BAAC,UAAD;AAAY,MAAA,IAAI,EAAC,OAAjB;AAAyB,MAAA,KAAK,EAAE,KAAKO,KAAL,CAAWoG;AAA3C,MARD,eASC,wCACErH,IAAI,CAACU,EAAL,CAAQ,mBAAR,CADF,OACiCqC,QAAQ,CAACqD,GAAT,CAAa,UAAb,CADjC,EAC2D,GAD3D,EAEEpG,IAAI,CAACU,EAAL,CAAQ,4BAAR,CAFF,OAE0C,KAAKO,KAAL,CAAWoG,cAFrD,CATD,eAaC,yCAbD,CADD;AAiBA;;AA9CqC,EAgDvC;AACA;;;AACA,MAAMS,aAAN,SAA4B1H,eAAMC,SAAlC,CAA4C;AAC3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKU,KAAL,GAAa,EAAb;AACA;;AACDC,EAAAA,iBAAiB,GAAG,CACnB;AACA;;AAEDC,EAAAA,oBAAoB,GAAG,CACtB;AACA;;AACD4G,EAAAA,WAAW,GAAG;AACb,SAAKnG,QAAL,CAAc,UAAUX,KAAV,EAAiBV,KAAjB,EAAwB;AACrC,aAAO,EAAP;AACA,KAFD;AAGA;;AACDgC,EAAAA,MAAM,GAAG;AACR,wBACC,yEACC,6BAAC,mBAAD;AAAY,MAAA,OAAO,EAAC;AAApB,OACEvC,IAAI,CAACU,EAAL,CAAQ,iDAAR,CADF,CADD,CADD;AAOA;;AAzB0C,EA2B5C;;;AACA,MAAMsH,mBAAN,SAAkC5H,eAAMC,SAAxC,CAAkD;AACjDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKU,KAAL,GAAa,EAAb;AACA;;AACDgH,EAAAA,WAAW,CAACC,QAAD,EAAW;AACrB,WAAO,CAAEX,KAAD,IAAW,KAAKhH,KAAL,CAAW4H,UAAX,CAAsBD,QAAtB,CAAZ,EAA6CzF,IAA7C,CAAkD,IAAlD,CAAP;AACA;;AACDF,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAW6H;AAAzB,oBACC,6BAAC,aAAD,qBACC,6BAAC,iBAAD,qBACC,6BAAC,mBAAD;AAAY,MAAA,OAAO,EAAC;AAApB,OAA0BpI,IAAI,CAACU,EAAL,CAAQ,UAAR,CAA1B,CADD,CADD,eAIC,6BAAC,iBAAD;AAAU,MAAA,MAAM,MAAhB;AAAiB,MAAA,OAAO,EAAE,KAAKuH,WAAL,CAAiB,UAAjB;AAA1B,oBACC,6BAAC,qBAAD,qBACC,6BAAC,oBAAD,OADD,CADD,eAIC,6BAAC,qBAAD;AAAc,MAAA,OAAO,EAAE;AAAvB,MAJD,CAJD,eAUC,6BAAC,gBAAD,OAVD,eAWC,6BAAC,iBAAD;AAAU,MAAA,MAAM,MAAhB;AAAiB,MAAA,OAAO,EAAE,KAAKA,WAAL,CAAiB,OAAjB;AAA1B,oBACC,6BAAC,qBAAD,qBACC,6BAAC,kBAAD,OADD,CADD,eAIC,6BAAC,qBAAD;AAAc,MAAA,OAAO,EAAEjI,IAAI,CAACU,EAAL,CAAQ,OAAR;AAAvB,MAJD,CAXD,CADD,CADD;AAsBA;;AA/BgD,EAkClD;;;AAEA,IAAI2H,KAAK,GAAG,EAAZ;AACAA,KAAK,CAAC/E,SAAN,gBAAkB,6BAAC,YAAD,OAAlB;AACA+E,KAAK,CAAC9E,KAAN,gBAAc,6BAAC,QAAD,OAAd;AACA8E,KAAK,CAACC,QAAN,gBAAiB,6BAAC,aAAD,OAAjB;AACAC,MAAM,CAACC,KAAP,GAAe,EAAf;AACAD,MAAM,CAACC,KAAP,CAAaH,KAAb,GAAqBA,KAArB,EAEA;;AACA,SAASI,aAAT,GAAyB;AACxB;AACA,QAAMC,WAAW,GAAG,4BAAc,8BAAd,CAApB;;AAEA,QAAMC,KAAK,GAAGvI,eAAMwI,OAAN,CACb,MACC,4BAAe;AACdC,IAAAA,OAAO,EAAE;AACRxH,MAAAA,IAAI,EAAEqH,WAAW,GAAG,MAAH,GAAY;AADrB;AADK,GAAf,CAFY,EAOb,CAACA,WAAD,CAPa,CAAd,CAJwB,CAcxB;;;AACA,MAAI,CAACI,eAAD,EAAkBC,kBAAlB,IAAwC3I,eAAM4I,QAAN,CAAe,IAAf,CAA5C;;AACA,MAAI,CAACC,UAAD,EAAaC,aAAb,IAA8B9I,eAAM4I,QAAN,CAAe,KAAf,CAAlC;;AACA,WAASG,YAAT,CAAsB5B,KAAtB,EAA6B;AAC5B2B,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACA;;AACD,WAASG,UAAT,CAAoB7B,KAApB,EAA2B;AAC1BvF,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA8G,IAAAA,kBAAkB,CAACxB,KAAK,CAACE,MAAP,CAAlB;AACA;;AACD,WAAS4B,WAAT,CAAqB9B,KAArB,EAA4B;AAC3BvF,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA8G,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACA,GA3BuB,CA6BxB;AACA;;;AACA,MAAI,CAACO,OAAD,EAAUnB,UAAV,IAAwB/H,eAAM4I,QAAN,CAAe,UAAf,CAA5B;;AACA,QAAMO,WAAW,GAAGC,OAAO,CAACV,eAAD,CAA3B;AACA,QAAMW,SAAS,GAAG,wBAAYd,KAAD,KAAY;AACxCe,IAAAA,IAAI,EAAE;AACLC,MAAAA,QAAQ,EAAE;AADL,KADkC;AAIxCC,IAAAA,KAAK,EAAE;AACND,MAAAA,QAAQ,EAAE;AADJ,KAJiC;AAOxCE,IAAAA,UAAU,EAAE;AACXC,MAAAA,WAAW,EAAEnB,KAAK,CAACoB,OAAN,CAAc,CAAd;AADF;AAP4B,GAAZ,CAAX,CAAlB;AAWA,QAAMC,OAAO,GAAGP,SAAS,EAAzB;AACA,sBACC,yEACC,6BAAC,qBAAD;AAAe,IAAA,KAAK,EAAEd;AAAtB,kBACC,6BAAC,oBAAD,OADD,eAEC;AAAK,IAAA,SAAS,EAAEqB,OAAO,CAACN;AAAxB,kBACC,6BAAC,eAAD;AAAQ,IAAA,MAAM,EAAC,MAAf;AAAsB,IAAA,IAAI,EAAET,UAA5B;AAAwC,IAAA,OAAO,EAAEE;AAAjD,kBACC,6BAAC,mBAAD;AACC,IAAA,YAAY,EAAEA,YADf;AAEC,IAAA,UAAU,EAAEhB;AAFb,IADD,CADD,eAOC,6BAAC,eAAD;AAAQ,IAAA,QAAQ,EAAC;AAAjB,kBACC,6BAAC,gBAAD,qBACC,6BAAC,mBAAD;AACC,IAAA,IAAI,EAAC,OADN;AAEC,IAAA,SAAS,EAAE6B,OAAO,CAACH,UAFpB;AAGC,IAAA,KAAK,EAAC,SAHP;AAIC,kBAAW,MAJZ;AAKC,IAAA,OAAO,EAAEV;AALV,kBAOC,6BAAC,aAAD,OAPD,CADD,eAUC,6BAAC,mBAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAyB,IAAA,SAAS,EAAEa,OAAO,CAACJ;AAA5C,KACE5J,IAAI,CAACU,EAAL,CAAQ,UAAR,CADF,CAVD,eAaC,uDACC,6BAAC,mBAAD;AACC,IAAA,KAAK,EAAC,SADP;AAEC,kBAAW,qBAFZ;AAGC,qBAAc,aAHf;AAIC,qBAAc,MAJf;AAKC,IAAA,OAAO,EAAE0I;AALV,kBAOC,6BAAC,gBAAD,OAPD,CADD,eAUC,6BAAC,cAAD;AACC,IAAA,EAAE,EAAC,aADJ;AAEC,IAAA,QAAQ,EAAEN,eAFX;AAGC,IAAA,YAAY,EAAE;AAAEmB,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,UAAU,EAAE;AAA/B,KAHf;AAIC,IAAA,WAAW,MAJZ;AAKC,IAAA,eAAe,EAAE;AAAED,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,UAAU,EAAE;AAA/B,KALlB;AAMC,IAAA,OAAO,EAAEb,WANV;AAOC,IAAA,IAAI,EAAEE;AAPP,kBASC,6BAAC,iBAAD;AAAU,IAAA,OAAO,EAAEY;AAAnB,aATD,eAUC,6BAAC,iBAAD;AAAU,IAAA,OAAO,EAAEA;AAAnB,sBAVD,CAVD,CAbD,CADD,CAPD,eA8CC,6BAAC,eAAD;AAAW,IAAA,QAAQ,EAAC;AAApB,KAA0B9B,KAAK,CAACiB,OAAD,CAA/B,CA9CD,eAgDC,6BAAC,uBAAD,OAhDD,CAFD,CADD,CADD;AAyDA,EACD;AACA;;;AAEA,SAASa,SAAT,CAAmBC,IAAnB,EAAyB,CAAE;;AAE3BjH,CAAC,CAAC,YAAY;AACb;AAEAkH,oBAAS9H,MAAT,eAAgB,6BAAC,aAAD,OAAhB,EAAmC+H,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAnC;AACA,CAJA,CAAD;AAMAvI,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B9B,uBAA3B","file":"bundle.js","sourceRoot":"..","sourcesContent":["// Localizations\r\nfunction formatDuration(seconds) {\r\n\tlet curSecs = seconds;\r\n\tlet out = \"\";\r\n\tif (curSecs > 60 * 60) {\r\n\t\tout += Math.floor(curSecs / (60 * 60)) + \":\";\r\n\t\tcurSecs = curSecs % (60 * 60);\r\n\t}\r\n\tout +=\r\n\t\tMath.floor(curSecs / 60)\r\n\t\t\t.toString()\r\n\t\t\t.padStart(2, \"0\") +\r\n\t\t\":\" +\r\n\t\t(curSecs % 60).toString().padStart(2, \"0\");\r\n\treturn out;\r\n}\r\nconst localizedFuncs = {\r\n    \"en\":{\r\n        formatDuration: formatDuration\r\n    }\r\n}\r\nexport {localizedFuncs};","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n// Fonts (broken currently)\r\n// import \"fontsource-roboto\";\r\n// Styles\r\n\r\nimport styles from \"./player.module.css\";\r\n// Text Stuff\r\nimport Typography from \"@material-ui/core/Typography\";\r\n// Grid Utils\r\nimport Grid from \"@material-ui/core/Grid\";\r\n// Widgets\r\nimport Slider from \"@material-ui/core/Slider\";\r\n// Get localized functions\r\nimport { localizedFuncs } from \"./utils.js\";\r\n\r\n// React Player to be imported\r\n// Meant to be reusable in other contexts\r\nconst hasArtist = [\"Song\"];\r\nconst hasMultipleArtists = [\"Album\"]; // Playlists are usually user created so they will have a variety of artists\r\nif (!i18n) {\r\n\ttry {\r\n\t\tvar i18n = require(\"i18n\");\r\n\t} catch (ex) {\r\n\t\tvar i18n = null; // Allow custom instances to be added later.\r\n\t}\r\n} // Might already be init\r\nclass PlayerComponent extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props); // Deprecated but needed\r\n\t\tlet preparedState = {\r\n\t\t\titemName: i18n.__(\"Nothing Playing\"),\r\n\t\t\tposition: 0,\r\n\t\t\titemLength: 0,\r\n\t\t\tlength: 1200,\r\n\t\t\tenabled: false,\r\n\t\t\tuserDragging: false, // Do not update while user is dragging\r\n\t\t};\r\n\t\tif (props.name) {\r\n\t\t\tpreparedState[\"name\"] = props.name;\r\n\t\t\tpreparedState[\"enabled\"] = true;\r\n\t\t}\r\n\t\tthis.state = preparedState;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Code to run when component is destoryed -> constructor\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// Componoent dies -> deconstructor\r\n\t}\r\n\tupdateItem(type, params) {\r\n\t\tlet properties = {};\r\n\r\n\t\tif (\"name\" in params) {\r\n\t\t\tproperties.itemName = params.name;\r\n\t\t}\r\n\t\tif (hasArtist.includes(type)) {\r\n\t\t\tif (\"artist\" in params) {\r\n\t\t\t\tproperties.itemMadeBy = params.artist;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (\"duration\" in params) {\r\n\t\t\tproperties.duration = params.duration;\r\n\t\t} else {\r\n\t\t\tproperties.duration = null; // Not provided\r\n\t\t}\r\n\r\n\t\tthis.setState(function (state, props) {\r\n\t\t\treturn properties;\r\n\t\t});\r\n\t}\r\n\tchangePos(ev, newVal) {\r\n\t\tconsole.log(\"Position changed to\", newVal);\r\n\t\tthis.setState(function (state, props) {\r\n\t\t\treturn { position: newVal };\r\n\t\t});\r\n\t}\r\n\tupdateDuration(time) {\r\n\t\t// Sometimes duration can be found afterwards\r\n\t\tthis.setState(function (state, props) {\r\n\t\t\treturn { itemDuration: time };\r\n\t\t});\r\n\t}\r\n\t// User Drag Handlers\r\n\t// TODO: Account for multi touch displays???\r\n\tuserDragStart(ev){\r\n\t\tthis.setState(function (state, props) {\r\n\t\t\treturn { userDragging: true};\r\n\t\t});\r\n\t}\r\n\tuserDragEnd(ev){\r\n\t\tthis.setState(function (state, props) {\r\n\t\t\treturn { userDragging: false };\r\n\t\t});\r\n\t}\r\n\t// ! Main Rendering Code\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"player\">\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\">{this.state.enabled\r\n\t\t\t\t\t\t\t\t? (localizedFuncs[i18n.getLocale()].formatDuration(\r\n\t\t\t\t\t\t\t\t\t\tthis.state.position\r\n\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t: i18n.__(\"Idle Duration\")}</Typography>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t<div className=\"playback-progress\" onPointerDown={this.userDragStart.bind(this)} onPointerUp={this.userDragEnd.bind(this)}>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.position}\r\n\t\t\t\t\t\t\t\t\tonChange={this.changePos.bind(this)}\r\n\t\t\t\t\t\t\t\t\taria-labelledby=\"continuous-slider\"\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={this.state.length}\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.enabled}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\">{this.state.enabled\r\n\t\t\t\t\t\t\t\t? (\"-\" + localizedFuncs[i18n.getLocale()].formatDuration(\r\n\t\t\t\t\t\t\t\t\t\tthis.state.itemLength - this.state.position\r\n\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t: i18n.__(\"Idle Duration\")}</Typography>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<span className={styles.playerTitle}>\r\n\t\t\t\t\t\t<Typography variant=\"h5\">{this.state.itemName}</Typography>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className={styles.playerItemMadeBy}>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">{this.state.itemMadeBy}</Typography>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\nconsole.log(\"Imported styles\", styles);\r\nexport { PlayerComponent };\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n// Fonts\r\n\r\n// broken?\r\n// Roboto font for material\r\n//import 'fontsource-roboto'; // Workaround parcel issue?\r\n\r\n// Core components\r\nimport { Skeleton } from \"@material-ui/lab\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\n// import FormGroup from \"@material-ui/core/FormGroup\";\r\n// import FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n\r\n// Utilites\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n// Ui icons\r\nimport MenuIcon from \"@material-ui/icons/Menu\"; // Also called a hamburger\r\nimport StorageIcon from \"@material-ui/icons/Storage\";\r\nimport MusicNoteIcon from \"@material-ui/icons/MusicNote\";\r\nimport HomeRoundedIcon from \"@material-ui/icons/HomeRounded\";\r\n\r\n// Ui Widgets\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n// List\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n// Tables\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\n// Utilities\r\nimport clsx from \"clsx\";\r\n\r\n// Reusable Player Componoent\r\nimport { PlayerComponent } from \"./player\";\r\n\r\nconst Store = require(\"electron-store\");\r\n// Settings Loading\r\nif (!Store) {\r\n\tconsole.warn(\"NO STORE found\");\r\n}\r\nconst settings = new Store({\r\n\tdefaults: {\r\n\t\tpageSize: 25,\r\n\t\tsnackbarAutoHideDuration: 5000,\r\n\t},\r\n});\r\n\r\n//import {$} from \"jquery\";\r\nconst $ = require(\"jquery\");\r\nconst regeneratorRuntime = require(\"regenerator-runtime\");\r\nconsole.log(\"bundle :D\");\r\nimport { localizedFuncs } from \"./utils.js\";\r\n\r\n// Constants\r\nconst columnTypes = {\r\n\tplaylists: [\"Name\", \"Date\", \"Songs Count\"],\r\n\tsongs: [\"Name\", \"Artist\", \"Duration\"],\r\n\talbums: [\"Name\", \"Last Updated\", \"Songs\"],\r\n};\r\nconst columnProps = {\r\n\tplaylists: [\r\n\t\t(item) => item.name,\r\n\t\t(item) => item.createdAt,\r\n\t\t(item) => JSON.parse(item.contents).length,\r\n\t],\r\n\tsongs: [\r\n\t\t(item) => item.name,\r\n\t\t(item) => item.artist,\r\n\t\t(item) =>\r\n\t\t\titem.duration\r\n\t\t\t\t? localizedFuncs[i18n.getLocale()].formatDuration(item.duration)\r\n\t\t\t\t: \"Unknown\",\r\n\t],\r\n\talbums: [\r\n\t\t(item) => item.name,\r\n\t\t(item) => item.updatedAt,\r\n\t\t(item) => JSON.parse(item.contents).length,\r\n\t],\r\n};\r\n\r\nlet musicServer = \"http://localhost:3000\"; // NO SLASH!\r\nfunction capitlizeFirst(string) {\r\n\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n// https://stackoverflow.com/questions/7045065/how-do-i-turn-a-javascript-dictionary-into-an-encoded-url-string\r\nfunction serialize(obj) {\r\n\tvar str = [];\r\n\tfor (var p in obj)\r\n\t\tstr.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\r\n\treturn str.join(\"&\");\r\n}\r\nfunction calcColClass(cols) {\r\n\treturn \"s\" + 12 / cols;\r\n}\r\nclass ResultView extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props); // Deprecated but needed anyway\r\n\t\tthis.state = {\r\n\t\t\tpageIndex: 0,\r\n\t\t\ttype: props.type,\r\n\t\t\tcol1: i18n.__(columnTypes[props.type][0]),\r\n\t\t\tcol2: i18n.__(columnTypes[props.type][1]),\r\n\t\t\tcol3: i18n.__(columnTypes[props.type][2]),\r\n\t\t\tpageData: [],\r\n\t\t};\r\n\t\tthis.search.bind(this)();\r\n\t}\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\tconsole.info(\"Update Request\");\r\n\t\tconst queryChanged = this.props.query !== nextProps.query;\r\n\t\treturn queryChanged;\r\n\t}\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.query !== prevProps.query) {\r\n\t\t\tthis.search();\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Code to run when component starts\r\n\t\tconsole.info(\"Result View Mounted\");\r\n\t\tthis.search();\r\n\t\tlet componentThis = this;\r\n\t\tthis.updateSearchInterval = setInterval(function () {\r\n\t\t\tif (componentThis.query) {\r\n\t\t\t\tcomponentThis.search.bind(componentThis)();\r\n\t\t\t}\r\n\t\t}, 2500);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// Componoent dies -> deconstructor\r\n\t\tclearInterval(this.updateSearchInterval);\r\n\t}\r\n\thideConnectionFailureSnackbar(){\r\n\t\tthis.setState(function (state, props) {\r\n\t\t\treturn {\r\n\t\t\t\tconnectionFailedSnackbarOpen: false,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\tshowConnectionFailureSnackbar(){\r\n\t\tthis.setState(function (state, props) {\r\n\t\t\treturn {\r\n\t\t\t\tconnectionFailedSnackbarOpen: true,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\tasync search() {\r\n\t\tconsole.log(\"Running Search Request\");\r\n\t\tlet pageSize = settings.get(\"pageSize\");\r\n\t\ttry {\r\n\t\t\tlet resp = await (\r\n\t\t\t\tawait fetch(\r\n\t\t\t\t\tmusicServer +\r\n\t\t\t\t\t\t\"/api/fetch_\" +\r\n\t\t\t\t\t\tthis.state.type +\r\n\t\t\t\t\t\t\"?\" +\r\n\t\t\t\t\t\tserialize({\r\n\t\t\t\t\t\t\tlimit: pageSize,\r\n\t\t\t\t\t\t\toffset: pageSize * this.state.pageIndex,\r\n\t\t\t\t\t\t\tname: this.props.query + \"%\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t).json();\r\n\t\t\tif (resp.status == \"ok\") {\r\n\t\t\t\tlet data = resp.data;\r\n\t\t\t\tconsole.log(\"Updating data for \" + this.state.query);\r\n\t\t\t\tthis.setState(function (state, props) {\r\n\t\t\t\t\treturn { pageData: data };\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (ex) {\r\n\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tfunction cellgenerator(cellFunc, item, index) {\r\n\t\t\treturn (\r\n\t\t\t\t<TableCell align=\"right\" key={index}>\r\n\t\t\t\t\t{cellFunc(item)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t);\r\n\t\t}\r\n\t\tfunction colgenerator(item) {\r\n\t\t\treturn (\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{columnProps[this.props.type].map(function (func, index) {\r\n\t\t\t\t\t\treturn cellgenerator.bind(this)(func, item, index);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</TableRow>\r\n\t\t\t);\r\n\t\t}\r\n\t\tlet comps = this.state.pageData.map(colgenerator.bind(this));\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"results-wrapper\">\r\n\t\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCell>{this.state.col1}</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>{this.state.col2}</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>{this.state.col3}</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t<TableBody>{comps}</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</TableContainer>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{i18n.__(\"Showing \")}\r\n\t\t\t\t\t{this.state.pageData.length} {i18n.__(\" items\")};\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nclass PlaylistView extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper();\r\n\t\t//super(props);\r\n\t\tthis.state = { searchBoxValue: \"\" };\r\n\t\t//this.fetchSearch = this.fetchSearch.bind(this);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Code to run when component is destoryed -> constructor\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// Componoent dies -> deconstructor\r\n\t}\r\n\tfetchSearch(event) {\r\n\t\t//console.log(event);\r\n\t\t//console.log(\"Updating Search\");\r\n\t\tlet searchValue = event.target.value;\r\n\t\t//console.log(\"New search value \"+searchValue);\r\n\t\tif (event.target.value) {\r\n\t\t\tthis.setState(function (state, props) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsearchBoxValue: searchValue,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tonItemClick(e) {\r\n\t\tconsole.log(\"Item Click\", e, this);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"searchbox\"\r\n\t\t\t\t\tonChange={this.fetchSearch.bind(this)}\r\n\t\t\t\t\tlabel={i18n.__(\"Type to search\")}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<ResultView\r\n\t\t\t\t\ttype=\"playlists\"\r\n\t\t\t\t\tquery={this.state.searchBoxValue}\r\n\t\t\t\t\tonItemClick={this.onItemClick.bind(this)}\r\n\t\t\t\t></ResultView>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{i18n.__(\"Current querying \")} {settings.get(\"pageSize\")}{\" \"}\r\n\t\t\t\t\t{i18n.__(\" playlists matching the query \")}{\" \"}\r\n\t\t\t\t\t{this.state.searchBoxValue}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div></div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\nclass SongView extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper();\r\n\t\t//super(props);\r\n\t\tthis.state = { searchBoxValue: \"\" };\r\n\t\t//this.fetchSearch = this.fetchSearch.bind(this);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Code to run when component is destoryed -> constructor\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// Componoent dies -> deconstructor\r\n\t}\r\n\tfetchSearch(event) {\r\n\t\t//console.log(event);\r\n\t\t//console.log(\"Updating Search\");\r\n\t\tlet searchValue = event.target.value;\r\n\t\t//console.log(\"New search value \"+searchValue);\r\n\t\tif (event.target.value) {\r\n\t\t\tthis.setState(function (state, props) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsearchBoxValue: searchValue,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"searchbox\"\r\n\t\t\t\t\tonChange={this.fetchSearch.bind(this)}\r\n\t\t\t\t\tlabel={i18n.__(\"Type to search\")}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<ResultView type=\"songs\" query={this.state.searchBoxValue}></ResultView>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{i18n.__(\"Current querying \")} {settings.get(\"pageSize\")}{\" \"}\r\n\t\t\t\t\t{i18n.__(\" songs matching the query \")} {this.state.searchBoxValue}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div></div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n// Home View\r\n// TODO: Populate with intresting things\r\nclass HomeComponent extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Code to run when component is destoryed -> constructor\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// Componoent dies -> deconstructor\r\n\t}\r\n\tstateChange() {\r\n\t\tthis.setState(function (state, props) {\r\n\t\t\treturn {};\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Typography variant=\"h3\">\r\n\t\t\t\t\t{i18n.__(\"Hello! This is the default homescreen for now. \")}\r\n\t\t\t\t</Typography>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n// Drawer\r\nclass MainDrawerComponent extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\ttriggerView(viewName) {\r\n\t\treturn ((event) => this.props.setCurView(viewName)).bind(this);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div onClick={this.props.drawerToggle}>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<Typography variant=\"h3\">{i18n.__(\"App Name\")}</Typography>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem button onClick={this.triggerView(\"homeview\")}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<HomeRoundedIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={\"Home\"}></ListItemText>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<ListItem button onClick={this.triggerView(\"songs\")}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<MusicNoteIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={i18n.__(\"Songs\")}></ListItemText>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Legacy Views System\r\n\r\nlet views = {};\r\nviews.playlists = <PlaylistView />;\r\nviews.songs = <SongView />;\r\nviews.homeview = <HomeComponent />;\r\nwindow.debug = {};\r\nwindow.debug.views = views;\r\n\r\n// Main Comp\r\nfunction MainComponent() {\r\n\t// Theme Logic\r\n\tconst useDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\r\n\r\n\tconst theme = React.useMemo(\r\n\t\t() =>\r\n\t\t\tcreateMuiTheme({\r\n\t\t\t\tpalette: {\r\n\t\t\t\t\ttype: useDarkMode ? \"dark\" : \"light\",\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t[useDarkMode]\r\n\t);\r\n\r\n\t// Handle Menu Logic\r\n\tlet [serversAnchorEl, setServersAnchorEl] = React.useState(null);\r\n\tlet [drawerOpen, setDrawerOpen] = React.useState(false);\r\n\tfunction toggleDrawer(event) {\r\n\t\tsetDrawerOpen(!drawerOpen);\r\n\t}\r\n\tfunction handleMenu(event) {\r\n\t\tconsole.log(this);\r\n\t\tsetServersAnchorEl(event.target);\r\n\t}\r\n\tfunction handleClose(event) {\r\n\t\tconsole.log(this);\r\n\t\tsetServersAnchorEl(null);\r\n\t}\r\n\r\n\t//let [open] = React.useState(true);\r\n\t// Current View\r\n\tlet [curView, setCurView] = React.useState(\"homeview\");\r\n\tconst serversOpen = Boolean(serversAnchorEl);\r\n\tconst stylesSet = makeStyles((theme) => ({\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tmenuButton: {\r\n\t\t\tmarginRight: theme.spacing(2),\r\n\t\t},\r\n\t}));\r\n\tconst classes = stylesSet();\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t<Drawer anchor=\"left\" open={drawerOpen} onClick={toggleDrawer}>\r\n\t\t\t\t\t\t<MainDrawerComponent\r\n\t\t\t\t\t\t\tdrawerToggle={toggleDrawer}\r\n\t\t\t\t\t\t\tsetCurView={setCurView}\r\n\t\t\t\t\t\t></MainDrawerComponent>\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\taria-label=\"menu\"\r\n\t\t\t\t\t\t\t\tonClick={toggleDrawer}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t\t\t\t\t\t{i18n.__(\"App Name\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\taria-label=\"Switch Media Server\"\r\n\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\r\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\tonClick={handleMenu}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<StorageIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tid=\"menu-appbar\"\r\n\t\t\t\t\t\t\t\t\tanchorEl={serversAnchorEl}\r\n\t\t\t\t\t\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\t\t\t\t\t\t\tonClose={handleClose}\r\n\t\t\t\t\t\t\t\t\topen={serversOpen}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={setServer}>Local</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={setServer}>Add new server</MenuItem>\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<Container maxWidth=\"md\">{views[curView]}</Container>\r\n\r\n\t\t\t\t\t<PlayerComponent />\r\n\t\t\t\t</div>\r\n\t\t\t</ThemeProvider>\r\n\t\t</>\r\n\t);\r\n}\r\n// Bootstrap code\r\n// really odd part i'm learning\r\n\r\nfunction setServer(comp) {}\r\n\r\n$(function () {\r\n\t// TODO: Replace with Vanilla JS to make script size smaller\r\n\r\n\tReactDOM.render(<MainComponent />, document.getElementById(\"root\"));\r\n});\r\n\r\nconsole.log(\"Player Comp\", PlayerComponent);\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}